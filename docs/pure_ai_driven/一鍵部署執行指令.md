# ðŸš€ AWS EC2 ä¸€éµéƒ¨ç½²åŸ·è¡ŒæŒ‡ä»¤

**ç›®æ¨™**: å°‡ç´”AIé©…å‹•åˆ†æžç³»çµ±éƒ¨ç½²åˆ° `18.212.97.173:/opt/aiengine/`  
**åŸ·è¡Œæ™‚é–“**: é è¨ˆ5-10åˆ†é˜  
**å‰ç½®æ¢ä»¶**: ç¢ºä¿ `alexchuang.pem` åœ¨ç•¶å‰ç›®éŒ„

---

## ðŸ“‹ åŸ·è¡Œå‰æª¢æŸ¥æ¸…å–®

### å¿…è¦æ–‡ä»¶ç¢ºèª
- [ ] `alexchuang.pem` - SSHå¯†é‘°æ–‡ä»¶
- [ ] `upload_to_ec2.sh` - ä¸€éµéƒ¨ç½²è…³æœ¬
- [ ] `ec2_deploy.sh` - EC2ç’°å¢ƒéƒ¨ç½²è…³æœ¬
- [ ] `production_service.py` - ç”Ÿç”¢ç’°å¢ƒæœå‹™ç¨‹åº
- [ ] `fully_dynamic_ai_engine.py` - AIåˆ†æžå¼•æ“Ž

### æ¬Šé™è¨­ç½®
```bash
# è¨­ç½®å¯†é‘°æ–‡ä»¶æ¬Šé™
chmod 600 alexchuang.pem

# è¨­ç½®è…³æœ¬åŸ·è¡Œæ¬Šé™
chmod +x upload_to_ec2.sh
chmod +x ec2_deploy.sh
```

---

## ðŸŽ¯ ä¸€éµéƒ¨ç½²å‘½ä»¤

### æ–¹æ³•1: è‡ªå‹•åŒ–éƒ¨ç½²ï¼ˆæŽ¨è–¦ï¼‰
```bash
# åŸ·è¡Œä¸€éµéƒ¨ç½²è…³æœ¬
./upload_to_ec2.sh
```

### æ–¹æ³•2: æ‰‹å‹•åˆ†æ­¥éƒ¨ç½²
```bash
# æ­¥é©Ÿ1: ä¸Šå‚³æ ¸å¿ƒæ–‡ä»¶
scp -i alexchuang.pem ec2_deploy.sh ec2-user@18.212.97.173:~/
scp -i alexchuang.pem production_service.py ec2-user@18.212.97.173:~/
scp -i alexchuang.pem fully_dynamic_ai_engine.py ec2-user@18.212.97.173:~/

# æ­¥é©Ÿ2: é€£æŽ¥EC2ä¸¦åŸ·è¡Œéƒ¨ç½²
ssh -i alexchuang.pem ec2-user@18.212.97.173

# åœ¨EC2ä¸ŠåŸ·è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
chmod +x ec2_deploy.sh
./ec2_deploy.sh

# æ­¥é©Ÿ3: ç§»å‹•æ–‡ä»¶åˆ°ç›®æ¨™ç›®éŒ„
sudo mv ~/production_service.py /opt/aiengine/
sudo mv ~/fully_dynamic_ai_engine.py /opt/aiengine/
sudo chown -R ec2-user:ec2-user /opt/aiengine/

# æ­¥é©Ÿ4: å‰µå»ºæ—¥èªŒç›®éŒ„
sudo mkdir -p /opt/aiengine/logs
sudo chown ec2-user:ec2-user /opt/aiengine/logs

# æ­¥é©Ÿ5: å•Ÿå‹•æœå‹™
sudo systemctl start aiengine
sudo systemctl enable aiengine
```

---

## ðŸ”§ éƒ¨ç½²éŽç¨‹è©³è§£

### éšŽæ®µ1: ç’°å¢ƒæº–å‚™ (2-3åˆ†é˜)
```bash
# ç³»çµ±æ›´æ–°
sudo yum update -y
sudo yum groupinstall -y "Development Tools"

# å®‰è£åŸºç¤Žå·¥å…·
sudo yum install -y git curl wget vim htop

# å®‰è£Python 3.11
sudo yum install -y python3 python3-pip python3-devel
```

### éšŽæ®µ2: ç›®éŒ„å’Œä¾è³´ (1-2åˆ†é˜)
```bash
# å‰µå»ºæ‡‰ç”¨ç›®éŒ„
sudo mkdir -p /opt/aiengine
sudo chown ec2-user:ec2-user /opt/aiengine

# å®‰è£Pythonä¾è³´
pip3 install --user flask flask-cors aiohttp asyncio python-multipart
```

### éšŽæ®µ3: æœå‹™é…ç½® (1åˆ†é˜)
```bash
# é…ç½®é˜²ç«ç‰†
sudo firewall-cmd --permanent --add-port=8300/tcp
sudo firewall-cmd --reload

# å‰µå»ºsystemdæœå‹™
sudo tee /etc/systemd/system/aiengine.service > /dev/null <<EOF
[Unit]
Description=AI Engine Analysis System
After=network.target

[Service]
Type=simple
User=ec2-user
WorkingDirectory=/opt/aiengine
Environment=PATH=/usr/local/bin:/usr/bin:/bin
ExecStart=/usr/bin/python3 production_service.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
EOF

sudo systemctl daemon-reload
sudo systemctl enable aiengine
```

### éšŽæ®µ4: æ‡‰ç”¨éƒ¨ç½² (1åˆ†é˜)
```bash
# ç§»å‹•æ‡‰ç”¨æ–‡ä»¶
sudo mv ~/production_service.py /opt/aiengine/
sudo mv ~/fully_dynamic_ai_engine.py /opt/aiengine/

# è¨­ç½®æ¬Šé™
sudo chown -R ec2-user:ec2-user /opt/aiengine/

# å‰µå»ºæ—¥èªŒç›®éŒ„
sudo mkdir -p /opt/aiengine/logs
sudo chown ec2-user:ec2-user /opt/aiengine/logs
```

### éšŽæ®µ5: æœå‹™å•Ÿå‹• (30ç§’)
```bash
# å•Ÿå‹•æœå‹™
sudo systemctl start aiengine

# æª¢æŸ¥ç‹€æ…‹
sudo systemctl status aiengine
```

---

## ðŸ“Š éƒ¨ç½²é©—è­‰å‘½ä»¤

### åŸºæœ¬é©—è­‰
```bash
# æª¢æŸ¥æœå‹™ç‹€æ…‹
sudo systemctl status aiengine

# æª¢æŸ¥ç«¯å£ç›£è½
netstat -tlnp | grep 8300

# æª¢æŸ¥é€²ç¨‹
ps aux | grep python

# æŸ¥çœ‹æ—¥èªŒ
sudo journalctl -u aiengine -f
```

### åŠŸèƒ½é©—è­‰
```bash
# æœ¬åœ°å¥åº·æª¢æŸ¥
curl http://localhost:8300/health

# æœ¬åœ°APIæ¸¬è©¦
curl -X POST http://localhost:8300/api/analyze \
  -H "Content-Type: application/json" \
  -d '{"requirement": "æ¸¬è©¦éœ€æ±‚", "model": "fully_dynamic_ai_engine"}'
```

### å…¬ç¶²è¨ªå•é©—è­‰
```bash
# å¾žå¤–éƒ¨æ¸¬è©¦ï¼ˆåœ¨æœ¬åœ°æ©Ÿå™¨åŸ·è¡Œï¼‰
curl http://18.212.97.173:8300/health

# ç€è¦½å™¨è¨ªå•
# http://18.212.97.173:8300
```

---

## ðŸ› ï¸ æ•…éšœæŽ’é™¤

### å¸¸è¦‹å•é¡ŒåŠè§£æ±ºæ–¹æ¡ˆ

#### 1. æœå‹™ç„¡æ³•å•Ÿå‹•
```bash
# æª¢æŸ¥è©³ç´°éŒ¯èª¤
sudo journalctl -u aiengine -n 50

# æª¢æŸ¥æ–‡ä»¶æ¬Šé™
ls -la /opt/aiengine/

# æ‰‹å‹•æ¸¬è©¦æœå‹™
cd /opt/aiengine
python3 production_service.py
```

#### 2. ç«¯å£ç„¡æ³•è¨ªå•
```bash
# æª¢æŸ¥é˜²ç«ç‰†
sudo firewall-cmd --list-all

# é‡æ–°é–‹æ”¾ç«¯å£
sudo firewall-cmd --permanent --add-port=8300/tcp
sudo firewall-cmd --reload

# æª¢æŸ¥AWSå®‰å…¨çµ„
# ç¢ºä¿åœ¨AWSæŽ§åˆ¶å°ä¸­8300ç«¯å£å·²é–‹æ”¾
```

#### 3. Pythonä¾è³´å•é¡Œ
```bash
# é‡æ–°å®‰è£ä¾è³´
pip3 install --user --upgrade flask flask-cors aiohttp

# æª¢æŸ¥Pythonç‰ˆæœ¬
python3 --version

# æª¢æŸ¥æ¨¡å¡Šå°Žå…¥
python3 -c "import flask, aiohttp; print('ä¾è³´æ­£å¸¸')"
```

#### 4. AIå¼•æ“ŽéŒ¯èª¤
```bash
# æª¢æŸ¥AIå¼•æ“Žæ–‡ä»¶
ls -la /opt/aiengine/fully_dynamic_ai_engine.py

# æ¸¬è©¦AIå¼•æ“Ž
cd /opt/aiengine
python3 -c "from fully_dynamic_ai_engine import analyze_with_fully_dynamic_ai; print('AIå¼•æ“Žæ­£å¸¸')"
```

---

## ðŸ”„ é‡æ–°éƒ¨ç½²æµç¨‹

### å¦‚æžœéœ€è¦é‡æ–°éƒ¨ç½²
```bash
# åœæ­¢æœå‹™
sudo systemctl stop aiengine

# æ¸…ç†èˆŠæ–‡ä»¶
sudo rm -rf /opt/aiengine/*

# é‡æ–°åŸ·è¡Œéƒ¨ç½²
./upload_to_ec2.sh
```

### æ›´æ–°æ‡‰ç”¨æ–‡ä»¶
```bash
# åªæ›´æ–°æ‡‰ç”¨æ–‡ä»¶ï¼ˆä¸é‡æ–°å®‰è£ç’°å¢ƒï¼‰
scp -i alexchuang.pem production_service.py ec2-user@18.212.97.173:/opt/aiengine/
scp -i alexchuang.pem fully_dynamic_ai_engine.py ec2-user@18.212.97.173:/opt/aiengine/

# é‡å•Ÿæœå‹™
ssh -i alexchuang.pem ec2-user@18.212.97.173 "sudo systemctl restart aiengine"
```

---

## ðŸ“ž éƒ¨ç½²æ”¯æŒ

### é ç¨‹è¨ºæ–·å‘½ä»¤
```bash
# ä¸€éµè¨ºæ–·è…³æœ¬
ssh -i alexchuang.pem ec2-user@18.212.97.173 << 'EOF'
echo "=== éƒ¨ç½²ç‹€æ…‹è¨ºæ–· ==="
echo "1. ç›®éŒ„çµæ§‹:"
ls -la /opt/aiengine/

echo "2. æœå‹™ç‹€æ…‹:"
sudo systemctl status aiengine

echo "3. ç«¯å£ç›£è½:"
netstat -tlnp | grep 8300

echo "4. é€²ç¨‹ç‹€æ…‹:"
ps aux | grep python | grep -v grep

echo "5. æœ€è¿‘æ—¥èªŒ:"
sudo journalctl -u aiengine -n 10 --no-pager

echo "6. ç£ç›¤ç©ºé–“:"
df -h /opt/

echo "7. å…§å­˜ä½¿ç”¨:"
free -h
EOF
```

### å¿«é€Ÿä¿®å¾©å‘½ä»¤
```bash
# å¿«é€Ÿé‡å•Ÿæœå‹™
ssh -i alexchuang.pem ec2-user@18.212.97.173 "sudo systemctl restart aiengine && sudo systemctl status aiengine"

# å¿«é€Ÿæª¢æŸ¥å¥åº·ç‹€æ…‹
ssh -i alexchuang.pem ec2-user@18.212.97.173 "curl -s http://localhost:8300/health | python3 -m json.tool"
```

---

## ðŸŽ¯ éƒ¨ç½²æˆåŠŸæ¨™èªŒ

### éƒ¨ç½²å®Œæˆå¾Œæ‡‰è©²çœ‹åˆ°ï¼š
1. âœ… **æœå‹™ç‹€æ…‹**: `Active (running)`
2. âœ… **ç«¯å£ç›£è½**: `0.0.0.0:8300`
3. âœ… **å¥åº·æª¢æŸ¥**: HTTP 200 éŸ¿æ‡‰
4. âœ… **Webç•Œé¢**: å¯é€šéŽç€è¦½å™¨è¨ªå•
5. âœ… **APIåŠŸèƒ½**: å¯æ­£å¸¸è™•ç†åˆ†æžè«‹æ±‚

### è¨ªå•åœ°å€ï¼š
- **Webç•Œé¢**: http://18.212.97.173:8300
- **å¥åº·æª¢æŸ¥**: http://18.212.97.173:8300/health
- **APIç«¯é»ž**: http://18.212.97.173:8300/api/analyze

---

## ðŸŽ‰ åŸ·è¡Œéƒ¨ç½²

**ç¾åœ¨æ‚¨å¯ä»¥åŸ·è¡Œä»¥ä¸‹å‘½ä»¤é–‹å§‹éƒ¨ç½²ï¼š**

```bash
# ç¢ºä¿åœ¨åŒ…å«æ‰€æœ‰æ–‡ä»¶çš„ç›®éŒ„ä¸­
ls -la alexchuang.pem upload_to_ec2.sh ec2_deploy.sh production_service.py fully_dynamic_ai_engine.py

# è¨­ç½®æ¬Šé™
chmod 600 alexchuang.pem
chmod +x upload_to_ec2.sh

# åŸ·è¡Œä¸€éµéƒ¨ç½²
./upload_to_ec2.sh
```

**éƒ¨ç½²å®Œæˆå¾Œï¼Œæ‚¨çš„ç´”AIé©…å‹•åˆ†æžç³»çµ±å°‡åœ¨ http://18.212.97.173:8300 ä¸Šé‹è¡Œï¼** ðŸš€

