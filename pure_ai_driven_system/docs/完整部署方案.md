# AWS EC2 ç´”AIé©…å‹•åˆ†æç³»çµ±å®Œæ•´éƒ¨ç½²æ–¹æ¡ˆ

**ç›®æ¨™æœå‹™å™¨**: `18.212.97.173`  
**éƒ¨ç½²ç›®éŒ„**: `/opt/aiengine/`  
**æœå‹™åç¨±**: `aiengine`  
**è¨ªå•ç«¯å£**: `8300`

---

## ğŸ“¦ éƒ¨ç½²æ–‡ä»¶æ¸…å–®

### æ ¸å¿ƒæ–‡ä»¶
- `ec2_deploy.sh` - è‡ªå‹•åŒ–éƒ¨ç½²è…³æœ¬
- `production_service.py` - ç”Ÿç”¢ç’°å¢ƒæœå‹™ä¸»ç¨‹åº
- `fully_dynamic_ai_engine.py` - ç´”AIé©…å‹•åˆ†æå¼•æ“
- `AWS_EC2_éƒ¨ç½²æŒ‡å°.md` - è©³ç´°éƒ¨ç½²æŒ‡å°

### ç®¡ç†å·¥å…·
- `upload_to_ec2.sh` - ä¸€éµä¸Šå‚³éƒ¨ç½²è…³æœ¬
- `manage_service.sh` - æœå‹™ç®¡ç†è…³æœ¬
- `nginx_config.conf` - Nginxåå‘ä»£ç†é…ç½®

---

## ğŸš€ ä¸€éµéƒ¨ç½²å‘½ä»¤

### æ–¹æ³•1: ä½¿ç”¨è‡ªå‹•ä¸Šå‚³è…³æœ¬ï¼ˆæ¨è–¦ï¼‰
```bash
# 1. ç¢ºä¿æ‰€æœ‰æ–‡ä»¶åœ¨åŒä¸€ç›®éŒ„
# 2. ç¢ºä¿alexchuang.pemåœ¨ç•¶å‰ç›®éŒ„
# 3. åŸ·è¡Œä¸€éµéƒ¨ç½²
chmod +x upload_to_ec2.sh
./upload_to_ec2.sh
```

### æ–¹æ³•2: æ‰‹å‹•éƒ¨ç½²
```bash
# 1. ä¸Šå‚³æ–‡ä»¶
scp -i alexchuang.pem ec2_deploy.sh ec2-user@18.212.97.173:~/
scp -i alexchuang.pem production_service.py ec2-user@18.212.97.173:~/
scp -i alexchuang.pem fully_dynamic_ai_engine.py ec2-user@18.212.97.173:~/

# 2. é€£æ¥ä¸¦éƒ¨ç½²
ssh -i alexchuang.pem ec2-user@18.212.97.173
chmod +x ec2_deploy.sh
./ec2_deploy.sh

# 3. ç§»å‹•æ–‡ä»¶
sudo mv ~/production_service.py /opt/aiengine/
sudo mv ~/fully_dynamic_ai_engine.py /opt/aiengine/
sudo chown -R ec2-user:ec2-user /opt/aiengine/

# 4. å•Ÿå‹•æœå‹™
sudo systemctl start aiengine
```

---

## ğŸ”§ æœå‹™ç®¡ç†

### åŸºæœ¬æ“ä½œ
```bash
# å•Ÿå‹•æœå‹™
sudo systemctl start aiengine

# åœæ­¢æœå‹™
sudo systemctl stop aiengine

# é‡å•Ÿæœå‹™
sudo systemctl restart aiengine

# æŸ¥çœ‹ç‹€æ…‹
sudo systemctl status aiengine

# é–‹æ©Ÿè‡ªå•Ÿ
sudo systemctl enable aiengine
```

### ä½¿ç”¨ç®¡ç†è…³æœ¬
```bash
# ä¸Šå‚³ç®¡ç†è…³æœ¬
scp -i alexchuang.pem manage_service.sh ec2-user@18.212.97.173:~/
ssh -i alexchuang.pem ec2-user@18.212.97.173
chmod +x manage_service.sh

# ä½¿ç”¨ç®¡ç†è…³æœ¬
./manage_service.sh start      # å•Ÿå‹•æœå‹™
./manage_service.sh status     # æŸ¥çœ‹ç‹€æ…‹
./manage_service.sh health     # å¥åº·æª¢æŸ¥
./manage_service.sh logs       # æŸ¥çœ‹æ—¥èªŒ
```

---

## ğŸŒ è¨ªå•æ¸¬è©¦

### å¥åº·æª¢æŸ¥
```bash
curl http://18.212.97.173:8300/health
```

### APIæ¸¬è©¦
```bash
curl -X POST http://18.212.97.173:8300/api/analyze \
  -H "Content-Type: application/json" \
  -d '{
    "requirement": "éœ€æ±‚ï¼šæ ¸ä¿æµç¨‹äººåŠ›éœ€æ±‚åˆ†æ",
    "model": "fully_dynamic_ai_engine"
  }'
```

### ç€è¦½å™¨è¨ªå•
```
http://18.212.97.173:8300
```

---

## ğŸ“Š ç›£æ§å’Œæ—¥èªŒ

### æŸ¥çœ‹æ—¥èªŒ
```bash
# ç³»çµ±æœå‹™æ—¥èªŒ
sudo journalctl -u aiengine -f

# æ‡‰ç”¨æ—¥èªŒ
tail -f /opt/aiengine/logs/ai-analysis.log

# éŒ¯èª¤æ—¥èªŒ
grep ERROR /opt/aiengine/logs/ai-analysis.log
```

### æ€§èƒ½ç›£æ§
```bash
# æŸ¥çœ‹é€²ç¨‹
ps aux | grep python

# æŸ¥çœ‹ç«¯å£
netstat -tlnp | grep 8300

# æŸ¥çœ‹è³‡æºä½¿ç”¨
htop
free -h
df -h
```

---

## ğŸ”’ å®‰å…¨é…ç½®

### AWSå®‰å…¨çµ„è¨­ç½®
1. ç™»éŒ„AWSæ§åˆ¶å°
2. é€²å…¥EC2 â†’ å®‰å…¨çµ„
3. é¸æ“‡å¯¦ä¾‹çš„å®‰å…¨çµ„
4. æ·»åŠ å…¥ç«™è¦å‰‡ï¼š
   - é¡å‹ï¼šè‡ªå®šç¾©TCP
   - ç«¯å£ï¼š8300
   - ä¾†æºï¼š0.0.0.0/0ï¼ˆæˆ–æŒ‡å®šIPç¯„åœï¼‰

### é˜²ç«ç‰†é…ç½®
```bash
# CentOS/RHEL/Amazon Linux
sudo firewall-cmd --permanent --add-port=8300/tcp
sudo firewall-cmd --reload

# æŸ¥çœ‹é˜²ç«ç‰†ç‹€æ…‹
sudo firewall-cmd --list-all
```

---

## ğŸš€ æ€§èƒ½å„ªåŒ–

### Nginxåå‘ä»£ç†ï¼ˆå¯é¸ï¼‰
```bash
# 1. å®‰è£Nginx
sudo yum install -y nginx

# 2. ä¸Šå‚³é…ç½®æ–‡ä»¶
scp -i alexchuang.pem nginx_config.conf ec2-user@18.212.97.173:~/

# 3. é…ç½®Nginx
sudo mv ~/nginx_config.conf /etc/nginx/conf.d/aiengine.conf
sudo nginx -t
sudo systemctl start nginx
sudo systemctl enable nginx

# 4. æ›´æ–°å®‰å…¨çµ„ï¼ˆé–‹æ”¾80ç«¯å£ï¼‰
```

### å¤šå¯¦ä¾‹éƒ¨ç½²
```bash
# è¤‡è£½æœå‹™æ–‡ä»¶
sudo cp /etc/systemd/system/aiengine.service /etc/systemd/system/aiengine2.service

# ä¿®æ”¹ç«¯å£é…ç½®
sudo sed -i 's/8300/8301/g' /etc/systemd/system/aiengine2.service

# å•Ÿå‹•å¤šå€‹å¯¦ä¾‹
sudo systemctl start aiengine2
sudo systemctl enable aiengine2
```

---

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

#### 1. æœå‹™ç„¡æ³•å•Ÿå‹•
```bash
# æª¢æŸ¥æ—¥èªŒ
sudo journalctl -u aiengine -n 50

# æª¢æŸ¥æ–‡ä»¶æ¬Šé™
ls -la /opt/aiengine/

# æª¢æŸ¥Pythonä¾è³´
python3 -c "import flask, aiohttp; print('ä¾è³´æ­£å¸¸')"
```

#### 2. ç«¯å£ç„¡æ³•è¨ªå•
```bash
# æª¢æŸ¥ç«¯å£ç›£è½
netstat -tlnp | grep 8300

# æª¢æŸ¥é˜²ç«ç‰†
sudo firewall-cmd --list-all

# æª¢æŸ¥AWSå®‰å…¨çµ„
# åœ¨AWSæ§åˆ¶å°æª¢æŸ¥å®‰å…¨çµ„é…ç½®
```

#### 3. AIå¼•æ“éŒ¯èª¤
```bash
# æª¢æŸ¥AIå¼•æ“æ–‡ä»¶
ls -la /opt/aiengine/fully_dynamic_ai_engine.py

# æ¸¬è©¦AIå¼•æ“
cd /opt/aiengine
python3 -c "from fully_dynamic_ai_engine import analyze_with_fully_dynamic_ai; print('AIå¼•æ“æ­£å¸¸')"
```

### é‡æ–°éƒ¨ç½²
```bash
# åœæ­¢æœå‹™
sudo systemctl stop aiengine

# æ¸…ç†èˆŠæ–‡ä»¶
sudo rm -rf /opt/aiengine/*

# é‡æ–°åŸ·è¡Œéƒ¨ç½²
./ec2_deploy.sh
```

---

## ğŸ“‹ éƒ¨ç½²æª¢æŸ¥æ¸…å–®

### ç’°å¢ƒæº–å‚™
- [ ] EC2å¯¦ä¾‹å¯æ­£å¸¸SSHé€£æ¥
- [ ] å¯†é‘°æ–‡ä»¶ `alexchuang.pem` æ¬Šé™æ­£ç¢ºï¼ˆ600ï¼‰
- [ ] æ‰€æœ‰éƒ¨ç½²æ–‡ä»¶æº–å‚™å®Œæˆ

### åŸºç¤ç’°å¢ƒ
- [ ] ç³»çµ±æ›´æ–°å®Œæˆ
- [ ] Python 3.11å®‰è£æˆåŠŸ
- [ ] å¿…è¦çš„ç³»çµ±åŒ…å®‰è£å®Œæˆ
- [ ] `/opt/aiengine/` ç›®éŒ„å‰µå»ºæˆåŠŸ

### æ‡‰ç”¨éƒ¨ç½²
- [ ] æ ¸å¿ƒæ–‡ä»¶ä¸Šå‚³å®Œæˆ
- [ ] æ–‡ä»¶æ¬Šé™è¨­ç½®æ­£ç¢º
- [ ] Pythonä¾è³´å®‰è£æˆåŠŸ
- [ ] systemdæœå‹™é…ç½®å®Œæˆ

### ç¶²çµ¡é…ç½®
- [ ] é˜²ç«ç‰†ç«¯å£é–‹æ”¾
- [ ] AWSå®‰å…¨çµ„é…ç½®å®Œæˆ
- [ ] ç«¯å£8300æ­£å¸¸ç›£è½

### æœå‹™é©—è­‰
- [ ] æœå‹™å•Ÿå‹•æˆåŠŸ
- [ ] å¥åº·æª¢æŸ¥é€šé
- [ ] APIæ¸¬è©¦æˆåŠŸ
- [ ] ç€è¦½å™¨è¨ªå•æ­£å¸¸

### ç›£æ§é…ç½®
- [ ] æ—¥èªŒè¨˜éŒ„æ­£å¸¸
- [ ] æœå‹™è‡ªå•Ÿå‹•é…ç½®
- [ ] ç›£æ§è…³æœ¬éƒ¨ç½²å®Œæˆ

---

## ğŸ¯ å¿«é€Ÿå‘½ä»¤åƒè€ƒ

```bash
# é€£æ¥EC2
ssh -i alexchuang.pem ec2-user@18.212.97.173

# æœå‹™ç®¡ç†
sudo systemctl start aiengine
sudo systemctl status aiengine
sudo systemctl restart aiengine

# æŸ¥çœ‹æ—¥èªŒ
sudo journalctl -u aiengine -f
tail -f /opt/aiengine/logs/ai-analysis.log

# å¥åº·æª¢æŸ¥
curl http://localhost:8300/health
curl http://18.212.97.173:8300/health

# æ¸¬è©¦API
curl -X POST http://18.212.97.173:8300/api/analyze \
  -H "Content-Type: application/json" \
  -d '{"requirement": "æ¸¬è©¦", "model": "fully_dynamic_ai_engine"}'

# æŸ¥çœ‹é€²ç¨‹å’Œç«¯å£
ps aux | grep python
netstat -tlnp | grep 8300
```

---

## ğŸ‰ éƒ¨ç½²å®Œæˆ

å®Œæˆä»¥ä¸Šæ­¥é©Ÿå¾Œï¼Œæ‚¨çš„ç´”AIé©…å‹•åˆ†æç³»çµ±å°‡æˆåŠŸéƒ¨ç½²åœ¨AWS EC2çš„ `/opt/aiengine/` ç›®éŒ„ä¸­ï¼Œä¸¦å¯é€šéä»¥ä¸‹æ–¹å¼è¨ªå•ï¼š

- **Webç•Œé¢**: http://18.212.97.173:8300
- **APIç«¯é»**: http://18.212.97.173:8300/api/analyze
- **å¥åº·æª¢æŸ¥**: http://18.212.97.173:8300/health

ç³»çµ±å…·å‚™ä»¥ä¸‹ç‰¹æ€§ï¼š
- âœ… ç´”AIé©…å‹•ï¼Œé›¶ç¡¬ç·¨ç¢¼
- âœ… ç”Ÿç”¢ç’°å¢ƒå„ªåŒ–
- âœ… è‡ªå‹•é‡å•Ÿæ©Ÿåˆ¶
- âœ… å®Œæ•´çš„æ—¥èªŒè¨˜éŒ„
- âœ… å¥åº·æª¢æŸ¥åŠŸèƒ½
- âœ… éŸ¿æ‡‰å¼Webç•Œé¢

**æ­å–œï¼æ‚¨çš„AIåˆ†æç³»çµ±å·²æˆåŠŸéƒ¨ç½²ä¸¦å¯æŠ•å…¥ä½¿ç”¨ï¼** ğŸŠ

