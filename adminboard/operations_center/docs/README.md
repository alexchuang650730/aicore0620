# 🚀 運營中心 Operations Center

## 📋 項目概述

運營中心是一個整合了系統監控和工作流管理功能的統一平台，將原本分離的 `operations_management` 和 `operations_workflow` 兩個系統合併為一個功能完整的運營管理解決方案。

## ✨ 核心功能

### 📊 系統監控模組
- **實時系統監控**: CPU、記憶體、磁碟使用率監控
- **服務狀態檢查**: 7個核心服務的健康狀態監控
- **智能告警系統**: 基於閾值的自動告警和管理
- **資源監控儀表板**: 專業的監控界面和數據可視化

### 🔄 工作流管理模組
- **文本分析**: AI驅動的運營需求分析
- **文件上傳**: 支援多種格式的工作流文件分析
- **流程優化**: 智能識別瓶頸和改善機會
- **分析報告**: 詳細的工作流分析和建議

## 🏗️ 技術架構

### 後端技術棧
- **Flask**: Web框架
- **SQLite**: 數據存儲
- **psutil**: 系統資源監控
- **requests**: HTTP客戶端
- **threading**: 多線程監控
- **CORS**: 跨域支持

### 前端技術棧
- **HTML5/CSS3**: 現代化界面
- **JavaScript**: 動態交互
- **Fetch API**: 異步數據獲取
- **CSS Grid**: 響應式布局

## 📁 目錄結構

```
operations_center/
├── frontend/
│   └── index.html              # 統一運營中心界面
├── backend/
│   ├── ui_backend_server.py    # 整合後端服務
│   └── requirements.txt        # Python依賴
├── config/
│   └── config.py              # 配置文件
└── docs/
    └── README.md              # 項目文檔
```

## 🚀 快速開始

### 1. 安裝依賴
```bash
cd backend
pip install -r requirements.txt
```

### 2. 啟動服務
```bash
python ui_backend_server.py
```

### 3. 訪問界面
打開瀏覽器訪問: http://localhost:5010

## 📊 監控服務

運營中心監控以下核心服務：

1. **需求分析服務** (端口 5000)
2. **七大工作流測試系統** (端口 5001)
3. **發布管理服務** (端口 5002)
4. **測試管理工作流MCP** (端口 8321)
5. **AI分析引擎** (端口 8888)
6. **運營工作流MCP** (端口 8091)
7. **運營分析引擎** (端口 8100)

## 🔧 配置說明

### 告警閾值
- **CPU使用率**: 80%
- **記憶體使用率**: 90%
- **磁碟使用率**: 85%

### 監控間隔
- **系統監控**: 30秒
- **服務檢查**: 30秒
- **界面刷新**: 30秒

## 📱 界面功能

### 系統監控標籤
- **系統概覽**: 整體系統狀態和統計
- **服務狀態**: 實時服務健康檢查
- **資源監控**: CPU/記憶體/磁碟使用率
- **告警中心**: 活動告警和歷史記錄

### 工作流管理標籤
- **文本分析**: 運營需求的AI分析
- **文件上傳**: 工作流文件的批量分析

## 🔌 API端點

### 系統監控API
- `GET /health` - 健康檢查
- `GET /api/system/overview` - 系統概覽
- `GET /api/services/status` - 服務狀態
- `GET /api/system/resources` - 系統資源
- `GET /api/alerts` - 告警列表
- `POST /api/alerts/resolve` - 解決告警

### 工作流管理API
- `POST /api/workflow/analyze` - 工作流分析
- `POST /api/workflow/upload` - 文件上傳分析

## 🎨 界面設計

### 設計特色
- **現代化UI**: 漸變背景和卡片式布局
- **響應式設計**: 支持桌面和移動設備
- **實時更新**: 30秒自動刷新監控數據
- **雙主題整合**: 藍色監控主題 + 紅色工作流主題

### 用戶體驗
- **標籤式導航**: 清晰的功能分區
- **實時反饋**: 即時的狀態指示器
- **進度可視化**: 資源使用率進度條
- **錯誤處理**: 友好的錯誤提示

## 🔒 安全特性

- **CORS支持**: 安全的跨域請求
- **文件類型檢查**: 限制上傳文件類型
- **大小限制**: 16MB文件上傳限制
- **SQL注入防護**: 參數化查詢

## 📈 性能優化

- **數據庫索引**: 優化查詢性能
- **異步監控**: 非阻塞的監控線程
- **緩存機制**: 減少重複計算
- **資源清理**: 自動清理過期數據

## 🔧 維護指南

### 日誌管理
- 日誌文件: `operations_center.log`
- 自動輪轉: 10MB/文件，保留5個備份

### 數據庫維護
- 定期清理過期監控數據
- 備份告警和系統指標數據

### 服務監控
- 監控服務本身的健康狀態
- 設置外部監控檢查

## 🚀 部署建議

### 開發環境
- 使用開發配置
- 啟用調試模式
- 延長監控間隔

### 生產環境
- 使用生產配置
- 關閉調試模式
- 配置反向代理
- 設置SSL證書

## 📞 支持與維護

如有問題或建議，請聯繫運營團隊或提交Issue。

---

**運營中心 v1.0** - 統一運營管理與工作流平台 🚀

